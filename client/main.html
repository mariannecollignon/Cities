<template name="main">

    <head>
        <title>Travelog</title>
    </head>

    <body>
        <header>

            <nav class="navbar navbar-inverse">
                <div class="container-fluid">

                    <ul class="nav navbar-nav">
                        <li><img class="img-responsive" id="logo" src="/images/LOGO%20TRAVELOG1.png" alt="background image"> </li>
                        <li class="active"><a href="{{pathFor route='Home'}}">Home</a></li>

                        <li><a href="{{pathFor route='cities'}}">Cities</a> </li>
                        {{#if currentUser}}
                        <li><a href="{{pathFor route='profile'}}">Profile</a></li>
                        {{/if}}
                        <li><a href="{{pathFor route='about'}}">About</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <form class="navbar-form" role="search">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Search" name="srch-term" id="srch-term">
                                    <div class="input-group-btn">
                                        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                                    </div>
                                </div>
                            </form>

                        </li>
                        <li><a href="#"><span class="glyphicon glyphicon-user"></span> {{>loginButtons}}</a></li>

                    </ul>
                </div>
            </nav>

            <div id="div1">
                <img class="img-responsive" id="mainbackground" src="/images/mainbackground.png" alt="background image">

                <div id="div2">
                    <button type="button" class="btn btn-danger">
                        <a href="/article">Write Article</a>
                    </button>
                </div>
            </div>
        </header>
        <main>
            {{>yield}}

        </main>

    </body>

</template>


<template name="home">
    {{>articlesList}}
</template>

<template name="city">
    <img src="{{picture}}" />
    <p>{{name}}</p>
    <p>{{description}}</p>

    <p>Events</p>
    {{#each act in activities}} {{#if isEvent act.nature}}
    <a href="/activity/{{act._id}}" class="articlePreview">
        <p>Name:{{act.name}}</p>
        <img src="{{act.picture}}" alt="{{act.name}}" />
    </a>
    {{/if}} {{/each}}

    <p>Places</p>
    {{#each act in activities}} {{#if isPlace act.nature}}
    <a href="/activity/{{act._id}}" class="articlePreview">
        <p>Name:{{act.name}}</p>
        <img src="{{act.picture}}" alt="{{act.name}}" />
    </a>
    {{/if}} {{/each}}

    <p>Map</p>


    <!--
    {{> googleMap name="map" options=mapOptions}}
    -->

</template>

<template name="map">
    {{> googleMap name="map" options=mapOptions}}
</template>

<template name="notFound">
    Template not found
</template>

<template name="profile">
    <p>Your articles are</p>

    {{#if currentUser}} {{#each Activity}}
    <a href="/activity/{{_id}}" class="articlePreview">
        <p>{{name}}</p>
    </a> {{/each}} {{/if}}
</template>

<template name="addActivity">
    <h3>Write an article</h3>

     <form id="insert" class="addEvent">
        <br/> <label>In wich city is it ?</label>
        <select>
            {{#each City}}
            <option value="{{_id}}">{{name}}</option>
            {{/each}}
        </select>
        <br/> <label>What is it about ?</label>
        <select id="type">
            <option value="event">An event</option>
            <option value="place">A place</option>
        </select>
        
        
        <br/> <label>Your title</label>
        <input type="text" id="name" placeholder="title" />
        <br/> <label>Your article</label>
        <textarea id="description" placeholder="write your article there" ></textarea>
        <br/><label>Url</label>
        <input type="text" id="url" placeholder="url" />
          
        <br/> <label>Start date</label>
        <input type="date"  id = "dateStart" placeholder="start date"/>
        <br/><label>End date</label>
        <input type ="date" id = "dateEnd" placeholder="end date"/>
          
          
          <br/>
          <br/>
          <input type="submit" value="ok" />

    </form>

</template>

<template name="activity">
    <div id="gallery">
        {{#each pictures}}
        <img src="{{this}}" /> {{/each}}
    </div>
    <p>{{nature}}</p>
    <p>{{name}}</p>
    <p>{{editor._id}}</p>
    <p>{{description}}</p>

    <p>Comments</p>
    {{#each com in comments}}
    <div>
        <p>{{com.user._id}}</p>
        <p>{{com.text}}</p>
        <p>{{com.date}}</p>
    </div>
    {{/each}} {{#if currentUser}}
    <form class="addComment">
        <label>Write your comment ! </label>
        <input type="hidden" id="id" value={{_id}}/>
        <textarea id="comment"></textarea>
        <input type="button" id="addcomment" value="Submit" />
    </form>
    {{/if}}

</template>

<template name="cities">
    <p>List of cities</p>
    <section id="cityList">
        {{#each City}}
        <a href="/city/{{_id}}" class="cityPreview">
            <p>{{name}}</p>
            <img src="{{picture}}" width="
                        200px" />
        </a>
        {{/each}}
    </section>
</template>

<template name="about">
</template>

<template name="article">
    <div class="row">
        {{#if currentUser}}
        <div class="col-md-5 col-md-offset-1">
            {{>addActivity}}
        </div>

        <div class="col-md-4 col-md-offset-1">
            <h3>Add a city</h3>
            <p>Please, check if the city doesn't already exists before creating a new one.</p>
            <form id="myform" class="addCity">
                <label>Name of City</label>
                <input type="text" id="cityName" placeholder="Name of City" />
                <br/>
                <label>Latitude</label>
                <input type="text" id="latitude" placeholder="latitude" />
                <br/>
                <label>Longtitude</label>
                <input type="text" id="longtitude" placeholder="longtitude" />
                <br/>
                <label>Write a description</label>
                <textarea id="cityDescription" placeholder="your description of this city"></textarea>
                <br/>
                <br/>
                <input type="submit" value="ok" />
            </form>
        </div>
        {{/if}}

    </div>

</template>